webpackJsonp(["49914f"],{"8aIK":function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,".cart-expiration-timer-banner[data-v-7ce998b3]{position:relative;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;background-color:var(--base-color);left:0;bottom:0;color:#fff;width:7rem;transition:all .3s ease-out;transition-property:width}.cart-expiration-timer-banner.fixed[data-v-7ce998b3]{position:fixed;z-index:5000}.cart-expiration-timer-banner.expanded[data-v-7ce998b3]{width:100%}.cart-expiration-timer-banner .loading-wrapper[data-v-7ce998b3]{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;width:100%;padding:1em}.cart-expiration-timer-banner .message-wrapper[data-v-7ce998b3]{padding:0;white-space:nowrap;overflow:hidden;opacity:0}.cart-expiration-timer-banner.expanded .message-wrapper[data-v-7ce998b3]{width:100%;text-align:center;padding:1em .5em;white-space:normal;overflow:auto;opacity:1}.cart-expiration-timer-banner .message-wrapper .message[data-v-7ce998b3] .time{font-size:20px;font-weight:700;color:#fff}.cart-expiration-timer-banner .button-wrapper[data-v-7ce998b3]{display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;align-items:center;padding:1em;font-size:18px;margin-left:auto}.cart-expiration-timer-banner .button-wrapper[data-v-7ce998b3]:hover{cursor:pointer}.cart-expiration-timer-banner .button-wrapper .time[data-v-7ce998b3]{margin-left:.5em}.lang-ar .cart-expiration-timer-banner[data-v-7ce998b3]{right:0}.lang-ar .cart-expiration-timer-banner .button-wrapper .time[data-v-7ce998b3]{margin-right:.5em}",""])},Czp2:function(e,t,i){"use strict";var n=i("y9m4"),a=(i.n(n),i("zmx7")),r=(i.n(a),i("A0n/")),s=(i.n(r),i("fx22")),o=(i.n(s),i("WgSQ")),c=(i.n(o),i("gYYG")),l=(i.n(c),i("tJwI")),d=(i.n(l),i("SldL")),p=(i.n(d),i("VjuZ")),u=(i.n(p),i("Hl+4")),f=(i.n(u),i("NYxO")),m=i("PJh5"),h=i.n(m);function g(e,t,i,n,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void i(e)}o.done?t(c):Promise.resolve(c).then(n,a)}function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function b(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}t.a={data:function(){return{config:null,timeRemaining:h.a.utc(),actualTime:h.a.utc(),pendingItemsMessage:"",isExpanded:!0,isTextVisible:this.isExpanded,userClicked:!1,isLoading:!0,timePassed:0,timerInterval:null,userClickedInterval:null,collapseMobileInterval:null,isMobileMode:!1}},props:["configid"],computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(i,!0).forEach(function(t){b(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}({},Object(f.c)(["cartProductsReserved","cartExpirationTime","cartExpirationDateTime"]),{isBannerVisible:function(){return this.cartProductsReserved.length&&this.displayInThisPage},isFixed:function(){return this.config.Parameters.PositionFixed},formattedTimeLeft:function(){var e=Math.floor(this.timeLeft/60),t=this.timeLeft%60;return-1===Math.sign(this.timeLeft)?"00:00":(t<10&&(t="0".concat(t)),"".concat(e,":").concat(t))},timeLeft:function(){return this.timeRemaining.diff(this.actualTime,"seconds")},messageToDisplay:function(){var e=this.config.Labels.ExpirationTimeMessage;return e?e=e.replace("[EXPIRATION_TIME]",'<span class="time">'.concat(this.formattedTimeLeft,"</span>")):""}}),watch:{timeLeft:function(e){0===e&&this.onTimesUp()},cartExpirationTime:function(e){this.displayInThisPage&&e&&this.cartProductsReserved.length&&(this.isLoading=!1,this.timeRemaining=h.a.utc(this.cartExpirationDateTime),this.isExpanded=!0,this.isTextVisible=!0,this.initIntervals())}},created:function(){this.config=window.Data[this.configid].config,!this.config.Parameters.BannerExpandedOnInit&&this.isFixed&&this.toggleVisibility(),this.displayInThisPage=this.canDisplayInPage(),this.displayInThisPage&&(this.isTextVisible=this.isExpanded,this.addOneSecondToActualTimeEverySecond(),this.isLoading&&this.displayInThisPage&&this.cartProductsReserved.length&&(this.isLoading=!1,this.timeRemaining=h.a.utc(this.cartExpirationDateTime),this.initIntervals()))},methods:{initIntervals:function(){var e=this;if(this.startUserClickInterval(),this.isFixed){var t=this;setInterval(function(){var e=document.querySelector(".cart-expiration-timer-banner");e&&e.addEventListener("transitionend",function(){t.isTextVisible=t.isExpanded})},1e3),this.collapseMobileInterval=setInterval(function(){return e.isExpanded=!1},5e3)}},mouseOver:function(){this.isExpanded||this.userClicked||this.toggleVisibility()},toggleVisibility:function(){this.userClicked=!0,this.isExpanded=!this.isExpanded,this.clearUserClickedInterval()},canDisplayInPage:function(){for(var e=this.config.Globals.HiddenPagesCartExpirationBanner||[],t=window.location.pathname.toLowerCase(),i=0;i<e.length;i++)if(-1!==e[i].toLowerCase().indexOf(t))return!1;return!0},startUserClickInterval:function(){var e=this;this.userClickedInterval=setInterval(function(){return e.userClicked=!1},5e3)},clearUserClickedInterval:function(){clearInterval(this.userClickedInterval),clearInterval(this.collapseMobileInterval),this.startUserClickInterval()},onTimesUp:function(){var e=function(e){return function(){var t=this,i=arguments;return new Promise(function(n,a){var r=e.apply(t,i);function s(e){g(r,n,a,s,o,"next",e)}function o(e){g(r,n,a,s,o,"throw",e)}s(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(this.timerInterval);try{window.location.replace(this.config.Globals.CartExpiredRedirectPage)}catch(e){console.log(e)}case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),addOneSecondToActualTimeEverySecond:function(){this.actualTime=h.a.utc();var e=this;setTimeout(function(){e.addOneSecondToActualTimeEverySecond()},1e3)}},beforeDestroy:function(){clearInterval(this.timerInterval),clearInterval(this.userClickedInterval)}}},DoqP:function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isBannerVisible?i("div",{staticClass:"cart-expiration-timer-banner",class:{expanded:e.isExpanded,"xs-size":e.isMobileMode,fixed:e.isFixed}},[e.isFixed?i("div",{staticClass:"button-wrapper",on:{click:function(t){return e.toggleVisibility()},mouseover:function(t){return e.mouseOver()}}},[i("fa-icon",{attrs:{icon:"shopping-cart"}}),e._v(" "),e.isExpanded?e._e():i("span",{staticClass:"time"},[e._v(e._s(e.formattedTimeLeft))])],1):e._e(),e._v(" "),e.isLoading?i("div",{staticClass:"loading-wrapper"},[i("fa-icon",{staticClass:"loading-icon",attrs:{icon:"circle-notch",spin:""}})],1):i("div",{staticClass:"message-wrapper"},[e.isTextVisible?i("span",{directives:[{name:"umbraco-label",rawName:"v-umbraco-label",value:e.config.Keys.ExpirationTimeMessage,expression:"config.Keys.ExpirationTimeMessage"}],staticClass:"message",domProps:{innerHTML:e._s(e.messageToDisplay)}}):e._e()])]):e._e()},staticRenderFns:[]};t.a=n},"Hl+4":function(e,t,i){var n=i("Ds5P");n(n.S,"Math",{sign:i("cwmK")})},K5pG:function(e,t,i){var n=i("8aIK");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("po5z")("61fb7dbe",n,!0,{})},cwmK:function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},wWWY:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("Czp2"),a=i("DoqP");var r=function(e){i("K5pG")},s=i("VU/8")(n.a,a.a,!1,r,"data-v-7ce998b3",null);t.default=s.exports}});